{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 43,
  "summary": "ICP dapp with a Motoko backend and a React/Vite + shadcn/ui frontend implementing an Excel-based reconciliation workflow for three uploaded GST-template Excel sheets (Accounts, Computation, Winman), emphasizing row-wise full-column equality checks (including unique invoice number) and exporting results.",
  "existing_features": [
    {
      "id": "IF-1",
      "title": "ICP project scaffold (Motoko backend + React/Vite frontend)",
      "synonyms": [
        "initial app scaffold",
        "core infrastructure"
      ],
      "description": "Repository includes build/deploy templates, an ICP Motoko backend canister, and a React/Vite TypeScript frontend wired for local/dev builds.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-2",
      "title": "Internet Identity authentication integration (frontend hooks)",
      "synonyms": [
        "II login",
        "Internet Identity"
      ],
      "description": "Frontend includes hooks/utilities to authenticate via Internet Identity and create an authenticated actor for backend calls.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-3",
      "title": "Excel reconciliation workflow UI",
      "synonyms": [
        "reconcile feature",
        "reconciliation UI"
      ],
      "description": "Frontend implements a reconciliation feature with Upload, Preview, Config, and Results tabs/components, including validation and normalization pipelines.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-4",
      "title": "Local reconciliation engine and Excel import/export utilities",
      "synonyms": [
        "reconcileLocal",
        "xlsx import/export"
      ],
      "description": "Implements Excel parsing, file/config validation, normalization, local reconciliation logic, and exporting results back to XLSX.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-5",
      "title": "UI component system (shadcn/ui) integrated",
      "synonyms": [
        "shadcn-ui"
      ],
      "description": "Includes a large set of shadcn/ui components and Tailwind configuration for building the app UI.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-6",
      "title": "Dockerized build-template and deployment/export harness",
      "synonyms": [
        "build-template",
        "reproducible builds",
        "icp.yaml/deploy.sh",
        "github export icp cli"
      ],
      "description": "Adds a build-template workspace (Dockerfile, icp.yaml, deploy.sh, package/pnpm workspace configs, and helper scripts like prune/resize images) to support reproducible builds and deployment/export workflows for the ICP dapp stack.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "feature-remove-the-key-based-key-column-key-value-reconciliation-concept-from-the-reconciliation-workflow-and-change-reconciliation-to-compare-each-row-as-a-whole-item-across-all-three-sheets-sheet-a-vs-sheet-b-vs-sheet-c-flagging-a-mismatch-when-any-column-value-differs-for-the-same-row-position",
      "title": "Remove the key-based (\"key column\" / key-value) reconciliation concept from the reconciliation workflow, and change reconciliation to compare each row as a whole item across all three sheets (Sheet A vs Sheet B vs Sheet C), flagging a mismatch when any column value differs for the same row position.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-reconciliation-configuration-types-and-validation-to-remove-keycolumnsa-keycolumnsb-keycolumnsc-and-any-key-based-configuration-validation-and-instead-define-the-compared-columns-set-as-the-common-headers-across-all-three-sheets-or-the-template-defined-headers-when-available-for-row-wise-comparison",
      "title": "Update the reconciliation configuration, types, and validation to remove keyColumnsA/keyColumnsB/keyColumnsC and any \"key\"-based configuration/validation, and instead define the compared columns set as the common headers across all three sheets (or the template-defined headers when available) for row-wise comparison.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-update-the-ui-to-reflect-row-wise-reconciliation-remove-replace-any-user-facing-text-and-controls-that-describe-matching-by-key-including-key-column-checkbox-sections-and-update-results-presentation-to-use-a-row-identifier-e-g-row-number-index-instead-of-a-key-field-while-still-showing-per-sheet-values-and-mismatched-columns",
      "title": "Update the UI to reflect row-wise reconciliation: remove/replace any user-facing text and controls that describe \"matching by key\" (including key column checkbox sections), and update results presentation to use a row identifier (e.g., row number/index) instead of a \"Key\" field while still showing per-sheet values and mismatched columns.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-update-xlsx-export-so-the-exported-results-sheet-reflects-row-wise-reconciliation-row-identifier-instead-of-key-per-sheet-presence-mismatched-columns-and-per-column-values-for-a-b-c-for-the-compared-columns",
      "title": "Update XLSX export so the exported Results sheet reflects row-wise reconciliation (row identifier instead of key, per-sheet presence, mismatched columns, and per-column values for A/B/C for the compared columns).",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Remove key/value matching concept; reconcile by treating each row as one item and verifying all column values match across all three sheets (with unique invoice number constraint).",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "architectural_notes": [
    "Architecture: Internet Computer dapp with a Motoko backend canister and a React/Vite TypeScript frontend.",
    "Frontend uses Tailwind + shadcn/ui component library; reconciliation feature is implemented primarily client-side (local processing) with XLSX import/export utilities.",
    "Authentication uses Internet Identity; frontend creates an authenticated actor for backend interactions.",
    "Build/deploy now includes a Dockerized build-template workspace (icp.yaml + deploy.sh and supporting scripts) to enable reproducible ICP CLI builds/exports alongside the main app source.",
    "Build-template workspace now includes a full React/Vite + shadcn/ui frontend scaffold (components, Tailwind/PostCSS, Vite config) plus custom ESLint rules (e.g., requiring Internet Identity provider configuration and preventing BigInt usage in query keys) to enforce ICP/II-specific frontend constraints.",
    "Build-template workspace now includes explicit per-canister configuration files (e.g., src/backend/canister.yaml, src/frontend/canister.yaml) and a system IDL (system-idl/aaaaa-aa.did) to support consistent local/deploy/export behavior."
  ],
  "known_issues": [],
  "isFixRequest": false,
  "projectName": "Remove key/value-based reconciliation and compare full rows across three sheets",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}