{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 23,
  "summary": "ICP dapp with a Motoko backend and a React/Vite + shadcn/ui frontend implementing an Excel-based reconciliation workflow (upload, preview, configure, reconcile locally, and export results), with Internet Identity authentication plumbing, plus a Dockerized build-template/deployment harness for reproducible ICP CLI builds and exports.",
  "existing_features": [
    {
      "id": "IF-1",
      "title": "ICP project scaffold (Motoko backend + React/Vite frontend)",
      "synonyms": [
        "initial app scaffold",
        "core infrastructure"
      ],
      "description": "Repository includes build/deploy templates, an ICP Motoko backend canister, and a React/Vite TypeScript frontend wired for local/dev builds.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-2",
      "title": "Internet Identity authentication integration (frontend hooks)",
      "synonyms": [
        "II login",
        "Internet Identity"
      ],
      "description": "Frontend includes hooks/utilities to authenticate via Internet Identity and create an authenticated actor for backend calls.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-3",
      "title": "Excel reconciliation workflow UI",
      "synonyms": [
        "reconcile feature",
        "reconciliation UI"
      ],
      "description": "Frontend implements a reconciliation feature with Upload, Preview, Config, and Results tabs/components, including validation and normalization pipelines.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-4",
      "title": "Local reconciliation engine and Excel import/export utilities",
      "synonyms": [
        "reconcileLocal",
        "xlsx import/export"
      ],
      "description": "Implements Excel parsing, file/config validation, normalization, local reconciliation logic, and exporting results back to XLSX.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-5",
      "title": "UI component system (shadcn/ui) integrated",
      "synonyms": [
        "shadcn-ui"
      ],
      "description": "Includes a large set of shadcn/ui components and Tailwind configuration for building the app UI.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "IF-6",
      "title": "Dockerized build-template and deployment/export harness",
      "synonyms": [
        "build-template",
        "reproducible builds",
        "icp.yaml/deploy.sh",
        "github export icp cli"
      ],
      "description": "Adds a build-template workspace (Dockerfile, icp.yaml, deploy.sh, package/pnpm workspace configs, and helper scripts like prune/resize images) to support reproducible builds and deployment/export workflows for the ICP dapp stack.",
      "reqIds": [],
      "version": 1
    },
    {
      "id": "feature-add-a-new-required-gst-invoice-column-header-named-invoice-number-to-the-shared-template-header-list-so-that-all-three-generated-excel-templates-sheet-a-sheet-b-sheet-c-include-it-in-the-first-row-and-template-validation-requires-it",
      "title": "Add a new required GST invoice column header named \"INVOICE NUMBER\" to the shared template header list so that all three generated Excel templates (Sheet A, Sheet B, Sheet C) include it in the first row and template validation requires it.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Add Invoice Number column/field to the Excel template and include it in reconciliation",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "architectural_notes": [
    "Architecture: Internet Computer dapp with a Motoko backend canister and a React/Vite TypeScript frontend.",
    "Frontend uses Tailwind + shadcn/ui component library; reconciliation feature is implemented primarily client-side (local processing) with XLSX import/export utilities.",
    "Authentication uses Internet Identity; frontend creates an authenticated actor for backend interactions.",
    "Build/deploy now includes a Dockerized build-template workspace (icp.yaml + deploy.sh and supporting scripts) to enable reproducible ICP CLI builds/exports alongside the main app source.",
    "Build-template workspace now includes a full React/Vite + shadcn/ui frontend scaffold (components, Tailwind/PostCSS, Vite config) plus custom ESLint rules (e.g., requiring Internet Identity provider configuration and preventing BigInt usage in query keys) to enforce ICP/II-specific frontend constraints."
  ],
  "known_issues": [
    "User reported being unable to open/download the Excel template and missing/disabled Reconcile button in the UI.",
    "Build/deploy errored when attempting to add the Invoice Number column to the template (user requested retry)."
  ],
  "isFixRequest": true,
  "projectName": "Add Invoice Number column to GST Excel templates (retry build)",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}